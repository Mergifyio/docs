---
title: Mergify Configuration File
description: Everything you need to know about Mergify configuration file
---

import { Warning } from '../../components/Alerts';
import DownloadLink from '../../components/DownloadLink';
import { Screenshot } from "../../components/Images"
import configCheckScreenshot from "../images/configuration/config-check.png"

The Mergify configuration file is an essential component of using our platform
effectively. This document will provide a comprehensive overview of the file,
including its name, format, and the data structure schema.

## Configuration File Name

Mergify applies the following rule to find and use its configuration:

- It reads the file named `.mergify.yml`, or, as a fallback,
  `.mergify/config.yml` or `.github/mergify.yml` from the repository root
  directory.

- It reads the file from the default repository branch configured on GitHub —
  usually `main`.

- It can extends the configuration by another configuration using the keyword
  `extends` — see ["extending the configuration
  file"](.#extending-configuration-files).


## File Format

The configuration file uses the [YAML](https://yaml.org/) format, which is both
human-readable and machine-parsable. YAML is easy to read and edit, making it a
popular choice for configuration files.

The file main type is a dictionary and each key of the dictionary configures a
different aspect of Mergify:

{/* FIXME: add link to sections */}

- `pull_request_rules` configures Automation Workflow;
- `queue_rules` configures the Merge Queue;
- `partition_rules` configures monorepository support in the merge queue;
- `commands_restrictions` configures whos is able to run commands;
- `defaults` allows to configure default options for various actions;
- `shared` allows to define any YAML payload that can be used using YAML
  anchors;
- `extends` allows to [extend the
  configuration](.#extending-configuration-files) file by importing another
  configuration file.


## Extending Configuration Files

Mergify allows you to extend your configuration file by including the
configuration from another repository. This feature is particularly useful when
you want to share and reuse configuration rules across multiple repositories,
making it easier to maintain consistency and reduce duplication.

To extend a configuration file, use the `extends` keyword at the top level of your
`.mergify.yml` file. Specify the repository name from which you want to include the
configuration. The configuration from the specified repository will be loaded and
applied before the one in the current repository.

<Warning>
  The Mergify application must also be installed on the source repository
  that you want to import the configuration from.
</Warning>

Here's an example of how to use the `extends` keyword:

```yaml
extends: organization/shared-config

pull_request_rules:
  - name: additional rule specific to this repository
    conditions:
      - base=main
    actions:
      label:
        add: ["repository-specific"]
```


In this example, the configuration from the organization/shared-config
repository is imported and applied first, followed by the rules defined in the
current repository's `.mergify.yml` file.



<Warning>
   - Values in the ``shared`` key will not be merged and shared between local and
   remote configurations.
   - Values in the ``default`` key will be merged and remote default values will
   apply to local configuration.
</Warning>


## OpenAPI Specification

For those interested in a more detailed and machine-readable description of the
Mergify configuration file format, an [OpenAPI](https://www.openapis.org/)
specification is available. This specification can help you understand the
structure of the configuration file and can be used to generate client
libraries, server stubs, or API documentation.

You can find <DownloadLink path='/mergify-configuration-openapi.json'>the
OpenAPI specification for the Mergify configuration here</DownloadLink>.

## Validation and Troubleshooting

When working with Mergify's configuration file, it's essential to validate and
troubleshoot any issues that may arise. Ensuring that your configuration file
is error-free and well-structured can help prevent unexpected behavior and
maintain a smooth workflow.

### Validation

To validate your Mergify configuration file, you can use Mergify's built-in
validation tool. Whenever you push a change to the configuration file, Mergify
will automatically validate the configuration and report any errors or warnings
in the "Checks" tab of your pull request.

<Screenshot src={configCheckScreenshot} alt="Mergify configuration check" />

If there are any issues with your configuration file, you will receive a
detailed description of the problem and guidance on how to fix it. Be sure to
address any errors or warnings to ensure optimal performance and avoid
potential issues.

### Troubleshooting

If you encounter issues or unexpected behavior with your Mergify configuration
file, consider the following troubleshooting steps:

1. Double-check the file name and location: ensure that your configuration file
is correctly named (e.g., `.mergify.yml`) and is located in the right place.
See [Configuration File Name](.#configuration-file-name) for details.

2. Verify the YAML syntax: confirm that your configuration file follows the
proper YAML syntax, including correct indentation, spacing, and structure.

3. Review your rules and conditions: Make sure that your rules and conditions
are correctly defined and accurately reflect your intended workflow.

4. Check for conflicting rules: examine your rules for any conflicts or
overlapping conditions that could cause unintended behavior.

5. Consult Mergify's documentation: refer to Mergify's documentation for
guidance on creating and managing your configuration file, as well as
understanding the various features and options available to you.

6. In the case you'd still be having issues, reach out to [support
team](mailto:support@mergify.com) for further help.

By following these troubleshooting steps, you can effectively identify and
resolve any issues with your Mergify configuration file, ensuring a smooth and
efficient automation process for your repository.
