#calculator {
	font-size: var(--theme-text-md);

	// layout
	.controls {
		display: grid;
		grid-template-columns: repeat(4, minmax(0, 1fr));
		gap: 12px;
		align-items: stretch;
	}

	.calc-error {
		margin-top: 8px;
		padding: 8px 10px;
		border: 1px solid var(--theme-red, #c00);
		background: color-mix(in srgb, var(--theme-red, #c00) 8%, transparent);
		color: var(--theme-red, #c00);
		border-radius: 4px;
	}

	input[type='number']::-webkit-inner-spin-button,
	input[type='number']::-webkit-outer-spin-button {
		-webkit-appearance: none;
		margin: 0;
	}

	input[type='number'] {
		appearance: textfield;
		-moz-appearance: textfield;
	}

	input {
		width: 100%;
		height: 42px;
		line-height: 1.65;
		float: left;
		display: block;
		padding: 0;
		margin: 0;
		padding-left: 20px;
		border: 1px solid var(--theme-text-lighter);
		border-radius: 4px;
	}

	input[type='range'] {
		height: 42px;
		padding-left: 0;
		border: none;
		display: block;
		margin: 0;
	}

	input:focus {
		outline: 0;
	}

	.input-number-nav {
		float: left;
		position: relative;
		height: 42px;
	}

	.input-number-button {
		position: relative;
		cursor: pointer;
		border: none;
		border-left: 1px solid var(--theme-text-lighter);
		width: 20px;
		text-align: center;
		color: var(--theme-text-light);
		font-size: 13px;
		line-height: 1.7;
		-webkit-transform: translateX(-100%);
		transform: translateX(-100%);
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		-o-user-select: none;
		user-select: none;
	}

	.input-number-button.input-number-up {
		position: absolute;
		height: 50%;
		top: 0;
		border-bottom: 1px solid var(--theme-text-lighter);
	}

	.input-number-button.input-number-down {
		position: absolute;
		bottom: 0;
		height: 50%;
	}

	.stats {
		margin-top: 12px;
		display: grid;
		grid-template-columns: repeat(3, minmax(0, 1fr));
		gap: 12px;
	}

	.stat .meter {
		height: 6px;
		border-radius: 999px;
		background: var(--theme-bg-2, rgba(0,0,0,0.08));
		overflow: hidden;
	}
	.stat .meter .meter-fill {
		height: 100%;
		border-radius: 999px;
	}

	// Responsive tweaks
	@media (max-width: 900px) {
		.controls {
			grid-template-columns: repeat(2, minmax(0, 1fr));
		}
		.stats {
			grid-template-columns: repeat(2, minmax(0, 1fr));
		}
	}

	@media (max-width: 560px) {
		.controls {
			grid-template-columns: 1fr;
		}
		.stats {
			grid-template-columns: 1fr;
		}
	}
}
