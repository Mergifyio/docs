---
/**
 * LinkCard component - a clickable card that links to another page.
 *
 * Usage in MDX:
 *   <LinkCard title="Merge Queue" href="/merge-queue" icon="feather:git-merge">
 *     Set up your merge queue in minutes.
 *   </LinkCard>
 */
import { Icon } from 'astro-icon/components';

export interface Props {
  title: string;
  href: string;
  icon?: string;
}

const { title, href, icon } = Astro.props;
---

<a class="link-card" href={href}>
  <div class="link-card__content">
    {icon && (
      <span class="link-card__icon" aria-hidden="true">
        <Icon name={icon} width={20} height={20} />
      </span>
    )}
    <div>
      <h4 class="link-card__title">{title}</h4>
      <div class="link-card__desc">
        <slot />
      </div>
    </div>
  </div>
  <span class="link-card__arrow" aria-hidden="true">
    <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
      <path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06z"/>
    </svg>
  </span>
</a>

<style>
  .link-card {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    padding: 1.25rem;
    border: 1px solid var(--theme-divider);
    border-radius: 8px;
    text-decoration: none;
    color: inherit;
    background: var(--theme-bg);
    transition: border-color 0.15s ease, box-shadow 0.15s ease, transform 0.15s ease;
  }

  .link-card:hover {
    border-color: var(--theme-shade-subtle);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    transform: translateY(-1px);
  }

  :global(.theme-dark) .link-card:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .link-card:active {
    transform: translateY(0);
  }

  .link-card:focus-visible {
    outline: 2px solid var(--color-mergify-blue);
    outline-offset: 2px;
  }

  .link-card__content {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    min-width: 0;
  }

  .link-card__icon {
    display: flex;
    align-items: center;
    color: var(--color-mergify-blue);
    flex-shrink: 0;
    margin-top: 0.1rem;
  }

  .link-card__title {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 0.25rem;
    line-height: 1.3;
    color: var(--theme-text);
  }

  .link-card__desc {
    font-size: var(--theme-text-sm);
    color: var(--theme-text-lighter);
    line-height: 1.5;
  }

  .link-card__desc > :first-child {
    margin-top: 0;
  }

  .link-card__desc > :last-child {
    margin-bottom: 0;
  }

  .link-card__arrow {
    flex-shrink: 0;
    color: var(--theme-text-lighter);
    transition: transform 0.15s ease, color 0.15s ease;
  }

  .link-card:hover .link-card__arrow {
    transform: translateX(2px);
    color: var(--color-mergify-blue);
  }
</style>
