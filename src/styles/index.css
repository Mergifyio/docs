* {
  box-sizing: border-box;
  margin: 0;
  border-color: var(--theme-border-color);
}

/* Global focus outline reset */
*:focus:not(:focus-visible) {
  outline: none;
}

/* Firefox */
* {
  scrollbar-color: var(--theme-dim-light) transparent;
}

/* Webkit */
/* Make scrollbars transparent except for main page scrollbar. */
::-webkit-scrollbar,
::-webkit-scrollbar-track {
  background-color: transparent;
}

body::-webkit-scrollbar,
body::-webkit-scrollbar-track {
  background: var(--theme-bg);
}

::-webkit-scrollbar-thumb {
  background-color: var(--theme-dim-light);
  border: 4px solid transparent;
  background-clip: content-box;
  border-radius: 10px;
}

@media (prefers-reduced-motion: no-preference) {
  :root {
    scroll-behavior: smooth;
  }
}

/*
	Ensure that the auto-hiding/showing address bar on iOS Safari
	always has a background color matching our theme.
*/
html {
  background: var(--theme-bg-gradient-bottom);
}

body {
  color: var(--theme-text);
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  font-family: var(--font-body) !important;
  max-width: 100%;
  background: var(--theme-bg);
}

.content > section {
  max-width: 1000px;
}

a {
  color: var(--color-mergify-blue-darker);
  text-decoration: none;
}

a:hover,
a:focus-visible {
  color: var(--theme-accent);
}

a:focus {
  outline: 2px solid currentColor;
  outline-offset: 0.25em;
}

a:focus-visible {
  outline: 2px solid var(--theme-accent);
  outline-offset: 0px;
  border-radius: 2px;
}

nav ul {
  list-style: none;
  padding: 0;
  line-height: 1.5;
}

.content > section > * + *,
.content > section > blockquote > * + *,
.content > section > :is(ul, ol) > li > * + *,
.content details > * + *,
.content * > astro-slot > * + * {
  margin-top: 1.25rem;
}

.content > section > :is(ul, ol) > li > * + * {
  margin-bottom: 1.25rem;
}

.content > section > :is(ul, ol) > li,
.content > section > :is(ul, ol) > li > * + *,
.content > section > :is(ul, ol) > li > :is(ul, ol) > li,
.content > section > :is(ul, ol) > li > :is(ul, ol) > li > * + * {
  margin-top: 0.5rem;
}

.content > section > :first-child {
  margin-top: 0;
}

.content > section > :is(ul, ol),
.content > section > :is(ul, ol) :is(ul, ol) {
  padding-inline-start: 1.5em;
}

:is(h1, h2, h3, h4, h5, h6) + *,
.content > section > .heading-wrapper + * {
  margin-top: 0;
}

:is(h2):not(:first-child),
.heading-wrapper:not(:first-child):is(.level-h2) {
  margin-top: 4rem;
}

:is(h3, h4):not(:first-child),
.heading-wrapper:not(:first-child):is(.level-h3, .level-h4) {
  margin-top: 3rem;
}

:is(h5, h6):not(:first-child),
.heading-wrapper:not(:first-child):is(.level-h5, .level-h6) {
  margin-top: 2rem;
}

:is(h1, h2, h3, h4, h5, h6, .heading-wrapper)
  + :is(h1, h2, h3, h4, h5, h6, .heading-wrapper):not(:first-child) {
  margin-top: 0;
}

.heading-wrapper {
  --icon-size-x: 2rem;
  --icon-size-y: 1.875rem;
  margin-inline-end: var(--icon-size-x);
}

.heading-wrapper:not(:first-child) {
  margin-block: 0;
}

.heading-wrapper > * {
  display: inline;
  margin-bottom: 0;
}

.heading-wrapper > .anchor-link {
  position: relative;
  display: inline-flex;
  margin-inline-end: calc(-1 * var(--icon-size-x));
  width: var(--icon-size-x);
  height: var(--icon-size-y);
  color: var(--theme-text-light);
  text-decoration: none;
  justify-content: center;
  vertical-align: baseline;
  z-index: 10;
}

/* Float anchor links to the left of headings on larger screens. */
@media (min-width: 50em) {
  .heading-wrapper {
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-end;
    align-items: baseline;
    margin-inline-start: calc(-1 * var(--icon-size-x));
  }

  .heading-wrapper > .anchor-link {
    margin-inline-end: 0;
  }
}

.heading-wrapper > .anchor-link {
  opacity: 0.5;
}

@media (hover: hover) {
  .heading-wrapper > .anchor-link {
    opacity: 0;
  }
}

.heading-wrapper:hover > .anchor-link,
.anchor-link:focus {
  opacity: 1;
}

.content {
  line-height: 1.75;
}

article > section li > :is(p, pre, .expressive-code, blockquote):not(:first-child) {
  margin-top: 1rem;
}

article > section ::marker {
  font-weight: bold;
  color: var(--theme-text-light);
}

article > section iframe {
  width: 80%;
  height: auto;
  aspect-ratio: 16 / 9;
  border: none;
  display: block;
  margin: 1em auto;
}

a > code {
  position: relative;
  color: var(--theme-text-accent);
  text-underline-offset: var(--padding-block);
}

strong {
  font-weight: 600;
  color: inherit;
}

/* Supporting Content */
code {
  --border-radius: 3px;
  --padding-block: 0.2rem;
  font-family: var(--font-mono);
  font-size: 0.85em;
  background-color: var(--theme-code-inline-bg);
  margin: calc(var(--padding-block) * -1) 0;
  border-radius: var(--border-radius);
  word-break: break-word;
}

pre > code {
  display: inline-block;
  padding: 15px 10px;
  width: 100%;
  background-color: transparent;
}

.content kbd {
  font-family: var(--font-body);
  font-size: 0.9375rem;
  border-radius: 0.25rem;
  padding: 0.0625rem 0.375rem;
  border: 1px solid var(--theme-shade-subtle);
  box-shadow: 0 2px var(--theme-shade-subtle);
  background-color: var(--theme-bg-offset);
  white-space: nowrap;
}

.theme-dark .content kbd {
  border-color: var(--theme-divider);
  background-color: var(--theme-divider);
}

.theme-dark g#logo {
  fill: white;
}

thead {
  font-family: var(--font-body);
  text-transform: uppercase;
  font-size: small;
  color: #4a5568;
  font-weight: 100;
}

.theme-dark thead {
  color: #a0aec0;
}

table {
  width: 100%;
  padding: var(--padding-block) 0;
  margin: 0;
  border-collapse: separate;
  line-height: 1.8;
  border-width: 1px;
  border-style: solid;
  border-radius: 4px;
}

th {
  font-weight: bold;
}

td,
th {
  padding: 12px;
  text-align: start;
  border-bottom-width: 1px;
  border-bottom-style: solid;
}

tr {
  border-width: 1px;
  border-style: solid;
}

blockquote code {
  background-color: var(--theme-bg);
}

blockquote {
  margin: 2rem 0 2rem 0;
  padding: 1.25em 1.5rem;
  border-inline-start: 8px solid var(--theme-divider);
  background-color: var(--theme-bg-offset);
  border-radius: 0 0.25rem 0.25rem 0;
  line-height: 1.7;
  /* Indicates the blockquote boundaries for forced colors users, transparent is changed to a solid color */
  outline: 1px solid transparent;
}

img,
video {
  max-width: 100%;
  height: auto;
  margin: 1em auto;
  display: block;
}

.content video {
  box-shadow: 0 0 var(--theme-glow-blur) var(--theme-glow-diffuse);
}

.content details {
  --details-padding-block: 0.25rem;
  --details-padding-inline: 1rem;
  --details-corners: 0.5rem;
  border-radius: var(--details-corners);
  border: 1px solid var(--theme-shade-subtle);
  padding: var(--details-padding-block) var(--details-padding-inline);
}

.content details:hover {
  background: var(--theme-bg-offset);
}

.content details[open] {
  background: var(--theme-bg-offset);
  padding-bottom: 1rem;
}

.content details summary {
  margin: calc(-1 * var(--details-padding-block)) calc(-1 * var(--details-padding-inline));
  padding: var(--details-padding-block) var(--details-padding-inline);
  font-weight: bold;
  cursor: pointer;
}

.content details summary::marker,
.content details summary::-webkit-details-marker {
  color: var(--theme-accent-secondary);
}

.content details[open] > summary {
  border-bottom: 1px solid var(--theme-shade-subtle);
}

.content details pre {
  --padding-inline: 1.25rem;
  border: var(--glow-border);
  margin-left: 0;
  margin-right: 0;
}

.flex {
  display: flex;
  align-items: center;
}

button {
  border: 0;
  font-size: 1rem;
  padding: 0.33em 0.67em;
}

h2.heading {
  font-size: 1em;
  font-weight: 600;
  margin-bottom: 0.5rem;
  margin-top: 1.5rem;
}

.header-link {
  font-size: 1em;
  transition:
    border-inline-start-color 100ms ease-out,
    background-color 200ms ease-out;
}

a.header-link {
  display: inline-flex;
  gap: 0.5em;
  width: 100%;
  font: inherit;
  padding-top: 0.4rem;
  padding-bottom: 0.4rem;
  line-height: 1.3;
  color: var(--theme-text-lighter);
  text-decoration: none;
  unicode-bidi: plaintext;
}

@media (min-width: 50em) {
  a.header-link {
    padding-top: 0.275rem;
    padding-bottom: 0.275rem;
  }
}

a.header-link:hover,
a.header-link:focus {
  text-decoration: underline;
}

/* Add line and padding on the left side */
.header-link {
  padding-inline-start: 1rem;
}

.header-link.depth-3 {
  padding-inline-start: 2rem;
}

.header-link.depth-4 {
  padding-inline-start: 3rem;
}

/* Apply different TOC styling for wide viewports showing the right sidebar */
@media (min-width: 82em) {
  h2.heading {
    padding-inline-start: calc(1rem + 4px);
  }

  .header-link {
    border-inline-start: 4px solid var(--theme-divider);
  }
}

body {
  /* Set a section-specific accent for product pages */
  --section-merge-queue-accent: #1db793;
  --section-merge-queue-accent-bg: rgba(29, 183, 147, 0.15);
  --section-ci-insights-accent: #4f5ce1;
  --section-ci-insights-accent-bg: rgba(79, 92, 225, 0.15);
  --section-merge-protections-accent: #52ade6;
  --section-merge-protections-accent-bg: rgba(82, 173, 230, 0.15);
  --section-workflow-accent: #e62474;
  --section-workflow-accent-bg: rgba(230, 36, 116, 0.15);
}

.nav-link a:hover,
.nav-link a:focus-visible {
  color: inherit;
}

/* Merge Queue section: override ToC highlight color */
/* Default (non-hover) left border color for ToC items on MQ pages */
body.section-merge-queue .header-link {
  /* Slightly translucent to appear lighter than the accent */
  border-inline-start-color: var(--section-merge-queue-accent-bg);
}

/* Hover/focus line color in the ToC */
body.section-merge-queue .header-link:hover,
body.section-merge-queue .header-link:focus,
body.section-merge-queue .header-link:focus-within {
  border-inline-start-color: var(--section-merge-queue-accent);
}

/* Active/current header link background for better visibility (optional, keeps existing bg) */
body.section-merge-queue a.current-header-link {
  /* Keep bg but bump left border to accent to reinforce highlight */
  border-inline-start-color: var(--section-merge-queue-accent);
  /* Use a subtle color highlight background for the active heading */
  background-color: var(--section-merge-queue-accent-bg);
}

/* Left sidebar navbar: apply tint only to the Merge Queue group, on any page */
#left-sidebar .nav-group-merge-queue .nav-link a:hover,
#left-sidebar .nav-group-merge-queue .nav-link a:focus {
  background-color: var(--section-merge-queue-accent-bg);
}

#left-sidebar .nav-group-merge-queue .nav-link a[aria-current="page"] {
  background-color: var(--section-merge-queue-accent-bg);
}

/* CI Insights section: ToC and nav colors */

/* Default (non-hover) left border color for ToC items on CI Insights pages */
body.section-ci-insights .header-link {
  border-inline-start-color: var(--section-ci-insights-accent-bg);
}

/* Hover/focus line color in the ToC */
body.section-ci-insights .header-link:hover,
body.section-ci-insights .header-link:focus,
body.section-ci-insights .header-link:focus-within {
  border-inline-start-color: var(--section-ci-insights-accent);
}

/* Current header link background */
body.section-ci-insights a.current-header-link {
  border-inline-start-color: var(--section-ci-insights-accent);
  background-color: var(--section-ci-insights-accent-bg);
}

/* Left sidebar navbar: apply tint only to the CI Insights group, on any page */
#left-sidebar .nav-group-ci-insights .nav-link a:hover,
#left-sidebar .nav-group-ci-insights .nav-link a:focus {
  background-color: var(--section-ci-insights-accent-bg);
}

#left-sidebar .nav-group-ci-insights .nav-link a[aria-current="page"] {
  background-color: var(--section-ci-insights-accent-bg);
}

/* Merge Protections section: ToC and nav colors */
/* Default (non-hover) left border color for ToC items on Merge Protections pages */
body.section-merge-protections .header-link {
  border-inline-start-color: var(--section-merge-protections-accent-bg);
}

/* Hover/focus line color in the ToC */
body.section-merge-protections .header-link:hover,
body.section-merge-protections .header-link:focus,
body.section-merge-protections .header-link:focus-within {
  border-inline-start-color: var(--section-merge-protections-accent);
}

/* Current header link background */
body.section-merge-protections a.current-header-link {
  border-inline-start-color: var(--section-merge-protections-accent);
  background-color: var(--section-merge-protections-accent-bg);
}

/* Left sidebar navbar: apply tint only to the Merge Protections group, on any page */
#left-sidebar .nav-group-merge-protections .nav-link a:hover,
#left-sidebar .nav-group-merge-protections .nav-link a:focus {
  background-color: var(--section-merge-protections-accent-bg);
}

#left-sidebar .nav-group-merge-protections .nav-link a[aria-current="page"] {
  background-color: var(--section-merge-protections-accent-bg);
}

/* Workflow Automation section: ToC and nav colors */
/* Default (non-hover) left border color for ToC items on Workflow pages */
body.section-workflow .header-link {
  border-inline-start-color: var(--section-workflow-accent-bg);
}

/* Hover/focus line color in the ToC */
body.section-workflow .header-link:hover,
body.section-workflow .header-link:focus,
body.section-workflow .header-link:focus-within {
  border-inline-start-color: var(--section-workflow-accent);
}

/* Current header link background */
body.section-workflow a.current-header-link {
  border-inline-start-color: var(--section-workflow-accent);
  background-color: var(--section-workflow-accent-bg);
}

/* Left sidebar navbar: apply tint only to the Workflow Automation group, on any page */
#left-sidebar .nav-group-workflow .nav-link a:hover,
#left-sidebar .nav-group-workflow .nav-link a:focus {
  background-color: var(--section-workflow-accent-bg);
}

#left-sidebar .nav-group-workflow .nav-link a[aria-current="page"] {
  background-color: var(--section-workflow-accent-bg);
}

/* Highlight TOC header link matching the current scroll position */
a.current-header-link {
  background-color: var(--theme-bg-hover);
  /* Indicates the current heading for forced colors users in older browsers */
  outline: 1px solid transparent;
}

@media (forced-colors: active) {
  a.current-header-link {
    border: 1px solid CanvasText;
  }
}

a.current-header-link {
  color: var(--theme-text);
}

/* Home page specific styles moved from inline MDX */
.home-hero {
  padding: 2.5rem 0 1rem;
  text-align: center;
}
.hero-inner {
  max-width: 60rem;
  margin: 0 auto;
}
.hero-inner h1 {
  font-size: clamp(2.2rem, 4.5vw, 3.2rem);
  margin: 0 0 0.75rem;
  letter-spacing: -0.02em;
}
.tagline {
  font-size: 1.15rem;
  margin: 0 auto 1.25rem;
  max-width: 46rem;
  font-weight: 400;
}
.quick-links {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.75rem;
}
.quick-links .ql {
  --ql-bg: rgba(0, 0, 0, 0.04);
  --ql-bg-hover: rgba(0, 0, 0, 0.07);
  --ql-bg-dark: rgba(255, 255, 255, 0.06);
  --ql-bg-dark-hover: rgba(255, 255, 255, 0.12);
  background: var(--ql-bg);
  backdrop-filter: saturate(160%) blur(8px);
  border: 1px solid rgba(0, 0, 0, 0.08);
  padding: 0.5rem 1rem;
  border-radius: 999px;
  font-size: 0.8rem;
  font-weight: 500;
  letter-spacing: 0.2px;
  line-height: 1.1;
  color: var(--theme-text);
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  position: relative;
  text-decoration: none;
  transition:
    background 0.18s ease,
    box-shadow 0.18s ease,
    border-color 0.18s ease,
    transform 0.18s ease;
}
.theme-dark .quick-links .ql {
  background: var(--ql-bg-dark);
  border-color: rgba(255, 255, 255, 0.12);
}
.quick-links .ql:hover {
  background: var(--ql-bg-hover);
  border-color: rgba(0, 0, 0, 0.12);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.06),
    0 2px 4px rgba(0, 0, 0, 0.04);
}
.theme-dark .quick-links .ql:hover {
  background: var(--ql-bg-dark-hover);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.4),
    0 2px 6px -2px rgba(0, 0, 0, 0.5);
}
.quick-links .ql:active {
  transform: translateY(1px);
}
.quick-links .ql:focus-visible {
  outline: 2px solid var(--color-mergify-blue-darker);
  outline-offset: 2px;
}
@media (hover: hover) {
  .quick-links .ql {
    will-change: transform;
  }
}
.community-buttons {
  display: flex;
  gap: 0.5rem;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 1rem;
}
@media (max-width: 50em) {
  .tagline {
    font-size: 1rem;
  }
  .quick-links .ql {
    font-size: 0.75rem;
  }
}

/* Screenreader Only Text */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.focus\:not-sr-only:focus,
.focus\:not-sr-only:focus-visible {
  position: static;
  width: auto;
  height: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/*
	Add the correct amount of scroll padding to ensure that linked headings are always visible
	and have enough distance to the viewport edge and potential fixed navigation bars.

	Please note that this can't be done with `scroll-margin` on the scroll targets themselves
	due to lack of iOS Safari browser support.
*/
html {
  /* Mobile TOC is displayed above page content */
  scroll-padding-top: calc(1.5rem + var(--theme-navbar-height) + var(--theme-mobile-toc-height));
}

@media (min-width: 72em) {
  html {
    /* Regular TOC is displayed as a sidebar */
    scroll-padding-top: calc(1.5rem + var(--theme-navbar-height));
  }
}

@media (prefers-reduced-motion: reduce) {
  details svg {
    /* Removes the collapsible sidebar svg animation */
    transition: none !important;
  }
}

svg.graph {
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 1em;
  width: 80%;
  background: none !important;
}

/* Graphviz draws a background polygon as the first child of g.graph; make it transparent */
svg.graph > g.graph > polygon {
  fill: none !important;
  stroke: none !important;
}

hr {
  border: none;
  border-bottom: 1px solid var(--theme-border-color);
  border-right: 1px solid var(--theme-border-color);
}

pre {
  position: relative;
  padding: 1rem 1.25rem;
  background: var(--theme-code-bg);
  border: 1px solid var(--theme-border-color);
  border-radius: 8px;
}

/* Inline code */
:not(pre) > code:not([class*="language"]) {
  background: var(--theme-code-inline-bg);
  padding: 0.15rem 0.4rem;
  font-size: 0.85em;
}

/* Override: rectangular ghost buttons for hero quick links (no pills) */
.home-hero .quick-links .ql {
  background: transparent;
  backdrop-filter: none;
  border-radius: 8px;
  padding: 0.55rem 0.9rem;
  font-size: 0.8rem;
  font-weight: 500;
  letter-spacing: 0.2px;
  border: 1px solid var(--theme-border-color);
  box-shadow: none;
  transition:
    background 0.18s ease,
    color 0.18s ease,
    border-color 0.18s ease,
    transform 0.18s ease;
}
.theme-dark .home-hero .quick-links .ql {
  border-color: rgba(255, 255, 255, 0.18);
}
.home-hero .quick-links .ql:hover {
  background: var(--theme-bg-hover);
  transform: translateY(-1px);
}
.theme-dark .home-hero .quick-links .ql:hover {
  background: rgba(255, 255, 255, 0.08);
}
.home-hero .quick-links .ql:active {
  transform: translateY(0);
}
.home-hero .quick-links .ql:focus-visible {
  outline: 2px solid var(--color-mergify-blue-darker);
  outline-offset: 2px;
}

.content-title {
  font-family: var(--font-brand);
  font-size: 2.5rem;
  font-weight: 900;
  line-height: 1.15;
  margin-bottom: 0.5em;
}

.content-subtitle {
  font-family: var(--font-brand);
  font-size: 1.2rem;
  font-weight: 500;
  line-height: 1.2;
}

.main-content.h2,
.main-content.h3,
.main-content.h4,
.main-content.h5,
.main-content.h6 {
  font-family: var(--font-body);
  font-weight: 700;
  font-size: 21px;
  letter-spacing: 0;
}

header .nav-wrapper {
  height: 100%;
}

.content {
  counter-reset: h2-section;
}

.content h2:not(.content-subtitle) {
  counter-increment: h2-section;
  position: relative;
}

.content h2:not(.content-subtitle, .home-title)::before {
  content: counter(h2-section);
  font-weight: 500;
  margin-right: 0.55rem;
  color: var(--theme-text-lighter);
  opacity: 0.6;
}
